<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <title><%= @filename %></title>
    <link rel="stylesheet" href="css/coco.css" type="text/css" />
  </head>
  <body>
    <p class="menu">
      <a href="index.html">Index</a> |
      <a href="https://github.com/lkdjiin/coco/wiki">Wiki</a> |
      <a href="https://github.com/lkdjiin/coco">Source</a> |
      <a href="http://lkdjiin.github.com/coco/">Web site</a>
    </p>
    <h2><%= @filename %></h2>
    <p class="date"><%= "#{Time.now}" %></p>
    
    <table class="source">

      <thead>
        <tr>
          <th>line num</th>
          <th>source code</th>
          <th>
            <abbr title="Number of time this line has been hit during test.">
              line hits
            </abbr>
          </th>
        </tr>
      </thead>
      
      <% @lines.each do |num, text, hit|%>
        <% classes = { nil => 'never', 0 => 'miss' } %>
        <% hit_class = classes[hit] || 'hit' %>

        <tr class="<%= hit_class %>">
          <td class='line-num'><pre><%= num %> </pre></td>
          <td class='line-source'><pre><%= text %></pre></td>
          <td class='line-hits'><%= hit %></td>
        </tr>
      <% end%>
      
    </table>
  </body>
</html>
